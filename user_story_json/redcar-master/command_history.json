{
    "feature_name": "Command history",
    "user_story": {
        "as_a": "",
        "i_want": "",
        "so_that": "",
        "scenarios": [
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I press the up arrow key"
                    ],
                    [
                        "I press the up arrow key"
                    ],
                    [
                        "I press the up arrow key"
                    ],
                    [
                        "I press the down arrow key"
                    ],
                    [
                        "I press the down arrow key"
                    ]
                ],
                "thens_list": [
                    [
                        "the current command should be \"y = 5\""
                    ],
                    [
                        "the current command should be \"x = 4\""
                    ],
                    [
                        "the current command should be \"x = 4\""
                    ],
                    [
                        "the current command should be \"y = 5\""
                    ],
                    [
                        "the current command should be blank"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I insert \"clear\" at the cursor",
                        "I press the return key",
                        "I press the up arrow key"
                    ],
                    [
                        "I press the up arrow key"
                    ],
                    [
                        "I press the up arrow key"
                    ]
                ],
                "thens_list": [
                    [
                        "the current command should be \"clear\""
                    ],
                    [
                        "the current command should be \"y = 5\""
                    ],
                    [
                        "the current command should be \"x = 4\""
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I insert \"reset\" at the cursor",
                        "I press the return key",
                        "I press the up arrow key"
                    ]
                ],
                "thens_list": [
                    [
                        "the current command should be blank",
                        "I press the up arrow key"
                    ],
                    [
                        "the current command should be blank",
                        "I press the down arrow key"
                    ],
                    [
                        "the current command should be blank"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I close the focussed tab",
                        "I open a new repl"
                    ],
                    [
                        "I press the up arrow key"
                    ],
                    [
                        "I press the up arrow key"
                    ]
                ],
                "thens_list": [
                    [
                        "the current command should be \"y = 5\""
                    ],
                    [
                        "the current command should be \"x = 4\""
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I insert \"x - y\" at the cursor",
                        "I press the up arrow key"
                    ],
                    [
                        "I press the down arrow key"
                    ]
                ],
                "thens_list": [
                    [
                        "the current command should be \"y = 5\""
                    ],
                    [
                        "the current command should be \"x - y\""
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I insert \"x * y\" at the cursor",
                        "I press the return key"
                    ],
                    [
                        "I insert \"buffer 2\" at the cursor",
                        "I press the return key"
                    ],
                    [
                        "I press the up arrow key"
                    ],
                    [
                        "I press the return key",
                        "I close the focussed tab",
                        "I open a new repl",
                        "I insert \"buffer\" at the cursor",
                        "I press the return key"
                    ]
                ],
                "thens_list": [
                    [
                        "the REPL output should be \"Buffer size set to 2\""
                    ],
                    [
                        "the current command should be \"buffer 2\"",
                        "I press the up arrow key"
                    ],
                    [
                        "the current command should be \"x * y\"",
                        "I press the up arrow key"
                    ],
                    [
                        "the current command should be \"x * y\""
                    ],
                    [
                        "the REPL output should be \"Current buffer size is 2\""
                    ]
                ]
            }
        ]
    }
}