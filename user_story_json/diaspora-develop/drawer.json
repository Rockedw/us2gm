{
    "feature_name": "Navigate between pages using the header menu and the drawer",
    "user_story": {
        "as_a": "user",
        "i_want": "be able navigate between the pages of the mobile version",
        "so_that": "",
        "scenarios": [
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I go to the activity stream page",
                        "I click on selector \".header-title\""
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the stream page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I click on selector \"#notification-badge\""
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the notifications page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I click on selector \"#conversations-badge\""
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the conversations page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I click on selector \"#compose-badge\""
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the new status message page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer"
                    ],
                    [
                        "I search for \"Bob\""
                    ]
                ],
                "thens_list": [
                    [
                        "I should see a \"#q\" within \"#drawer\""
                    ],
                    [
                        "I should see \"Users matching Bob\" within \"#search_title\""
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer"
                    ],
                    [
                        "I search for \"#bob\""
                    ]
                ],
                "thens_list": [
                    [
                        "I should see a \"#q\" within \"#drawer\""
                    ],
                    [
                        "I should be on the tag page for \"bob\""
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer",
                        "I click on \"Stream\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the stream page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer",
                        "I click on \"My activity\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the activity stream page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer",
                        "I click on \"@Mentions\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the mentioned stream page"
                    ]
                ]
            },
            {
                "givens_list": [
                    [
                        "I have a limited post with text \"Hi you!\" in the aspect \"Besties\""
                    ]
                ],
                "whens_list": [
                    [
                        "I open the drawer"
                    ],
                    [
                        "I open the drawer",
                        "I click on \"My aspects\" in the drawer",
                        "I click on \"Unicorns\" in the drawer",
                        "I should not see \"Hi you!\" within \"#main-stream\""
                    ]
                ],
                "thens_list": [
                    [
                        "I should not see \"All aspects\" within \"#drawer\"",
                        "I click on \"My aspects\" in the drawer",
                        "I click on \"All aspects\" in the drawer"
                    ],
                    [
                        "I should be on the aspects page",
                        "I should see \"Hi you!\" within \"#main-stream\""
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I follow the \"boss\" tag",
                        "I go to the stream page",
                        "I open the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should not see \"All tags\" within \"#drawer\"",
                        "I click on \"#Followed tags\" in the drawer",
                        "I click on \"All tags\" in the drawer"
                    ],
                    [
                        "I should be on the followed tags stream page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I follow the \"boss\" tag",
                        "I go to the stream page",
                        "I open the drawer",
                        "I click on \"#Followed tags\" in the drawer",
                        "I click on \"#boss\" in the drawer"
                    ],
                    [
                        "I open the drawer",
                        "I click on \"#Followed tags\" in the drawer",
                        "I click on \"Manage followed tags\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the tag page for \"boss\""
                    ],
                    [
                        "I should be on the manage tag followings page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer",
                        "I click on \"Public activity\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the public stream page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer",
                        "I click on \"Profile\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on my profile page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer",
                        "I click on \"Contacts\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on the contacts page"
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer",
                        "I click on \"Settings\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should be on my account settings page"
                    ]
                ]
            },
            {
                "givens_list": [
                    [
                        "a moderator with email \"bob@bob.bob\"",
                        "I sign in as \"bob@bob.bob\" on the mobile website"
                    ]
                ],
                "whens_list": [
                    [
                        "I open the drawer"
                    ],
                    [
                        "I click on \"Reports\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should not see \"Admin\" within \"#drawer\"",
                        "I should see \"Reports\" within \"#drawer\""
                    ],
                    [
                        "I should see \"Reports overview\" within \"#main h1\""
                    ]
                ]
            },
            {
                "givens_list": [
                    [
                        "an admin with email \"bob@bob.bob\"",
                        "I sign in as \"bob@bob.bob\" on the mobile website"
                    ]
                ],
                "whens_list": [
                    [
                        "I open the drawer"
                    ],
                    [
                        "I click on \"Admin\" in the drawer",
                        "I click on \"Dashboard\" in the drawer"
                    ],
                    [
                        "I click on \"Admin\" in the drawer",
                        "I click on \"User search\" in the drawer"
                    ],
                    [
                        "I click on \"Admin\" in the drawer",
                        "I click on \"Weekly user stats\" in the drawer"
                    ],
                    [
                        "I click on \"Admin\" in the drawer",
                        "I click on \"Pod stats\" in the drawer"
                    ],
                    [
                        "I click on \"Admin\" in the drawer",
                        "I click on \"Reports\" in the drawer"
                    ],
                    [
                        "I click on \"Admin\" in the drawer",
                        "I click on \"Pod network\" in the drawer"
                    ],
                    [
                        "I click on \"Admin\" in the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should not see \"Reports\" within \"#drawer\""
                    ],
                    [
                        "I should not see \"Dashboard\" within \"#drawer\""
                    ],
                    [
                        "I should see \"Pod status\" within \"#main h2\""
                    ],
                    [
                        "I should see \"User search\" within \"#main h3\""
                    ],
                    [
                        "I should see \"Current server date is \" within \"#main h2\""
                    ],
                    [
                        "I should see \"Usage statistics\" within \"#main h1\""
                    ],
                    [
                        "I should see \"Reports overview\" within \"#main h1\""
                    ],
                    [
                        "I should see \"Pod network\" within \"#main h2\""
                    ],
                    [
                        "I should see \"Sidekiq monitor\" within \"#drawer\""
                    ]
                ]
            },
            {
                "givens_list": [],
                "whens_list": [
                    [
                        "I open the drawer"
                    ]
                ],
                "thens_list": [
                    [
                        "I should not see \"Admin\" within \"#drawer\""
                    ],
                    [
                        "I should not see \"Reports\" within \"#drawer\""
                    ]
                ]
            }
        ]
    }
}